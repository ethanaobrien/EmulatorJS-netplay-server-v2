<input type="file" id="asd">
<script>
asd.addEventListener('change', function(e) {
    if (socket.readyState !== 1) return;
    socket.send('Incoming file');
    e.target.files[0].arrayBuffer().then(function(blob) {
        socket.send(blob);
    });
})
const socket = new WebSocket('ws://localhost:8887');
console.log(socket);
// Connection opened
socket.addEventListener('open', (event) => {
    socket.send('Hello Server!');
});

// Listen for messages
socket.addEventListener('message', (event) => {
    console.log('Message from server ', event.data);
});
socket.addEventListener('error', (event) => {
    console.log('Error ', event.data);
});

</script>
